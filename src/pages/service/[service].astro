---
import BaseLayout from '../../layouts/BaseLayout.astro';
import siteData from '../../data.json';

export function getStaticPaths() {
    const { services } = siteData;
    return services.map((service) => ({
        params: { service: service.id },
        props: { service }
    }));
}

const { service } = Astro.props;
const { company } = siteData;
---

<BaseLayout title={`${service.bannerTitle} | ${company.name}`}>
    <!-- banner -->
    <section class="mil-banner mil-dark-bg">
        <div class="mi-invert-fix">
            <div class="mil-animation-frame">
                <div class="mil-animation mil-position-1 mil-scale" data-value-1="7" data-value-2="1.6"></div>
                <div class="mil-animation mil-position-2 mil-scale" data-value-1="4" data-value-2="1"></div>
                <div class="mil-animation mil-position-3 mil-scale" data-value-1="1.2" data-value-2=".1"></div>
            </div>

            <div class="mil-gradient"></div>

            <div class="container">
                <div class="mil-banner-content mil-up">
                    <h1 class="mil-muted mil-mb-60" set:html={service.bannerTitle.replace(' and ', ' <span class="mil-thin">and</span> ').replace(' & ', ' <span class="mil-thin">&</span> ')}></h1>
                    <div class="row">
                        <div class="col-md-7 col-lg-5">
                            <p class="mil-light-soft mil-mb-60">{service.bannerSubtitle}</p>
                        </div>
                    </div>
                    <a href="/contact" class="mil-button mil-arrow-place mil-btn-space">
                        <span>Get Started</span>
                    </a>
                </div>
            </div>
        </div>
    </section>
    <!-- banner end -->

    <!-- service details -->
    <section>
        <div class="container mil-p-120-30">
            <div class="row justify-content-between">
                <div class="col-lg-4 mil-relative mil-mb-90">
                    <h4 class="mil-up mil-mb-30" set:html={service.approach.title.replace(/(\w+)(?=\s*$)/, '<span class="mil-thin">$1</span>').replace(' and ', ' <span class="mil-thin">and</span> ').replace(' & ', ' <span class="mil-thin">&</span> ')}></h4>
                    {service.approach.description.map(paragraph => (
                        <p class="mil-up mil-mb-30">{paragraph}</p>
                    ))}
                    <div class="mil-up">
                        <a href="/portfolio" class="mil-link mil-dark mil-arrow-place">
                            <span>View works</span>
                        </a>
                    </div>
                </div>
                <div class="col-lg-6">
                    {service.accordions.map(accordion => (
                        <div class="mil-accordion-group mil-up">
                            <div class="mil-accordion-menu">
                                <p class="mil-accordion-head">{accordion.title}</p>
                                <div class="mil-symbol mil-h3">
                                    <div class="mil-plus">+</div>
                                    <div class="mil-minus">-</div>
                                </div>
                            </div>
                            <div class="mil-accordion-content">
                                <p class="mil-mb-30">{accordion.content}</p>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    </section>
    <!-- service details end -->

    <!-- pricing section -->
    <section class="mil-dark-bg">
        <div class="mi-invert-fix">
            <div class="container mil-p-120-120">
                <div class="mil-center">
                    <h2 class="mil-muted mil-up mil-mb-30">Reasonable <span class="mil-thin">prices</span><br>for innovative <span class="mil-thin">solutions</span></h2>
                    <p class="mil-light-soft mil-up mil-mb-60">At our agency, we have a unique approach to design and development.<br>We believe in creating solutions in terms of user experience and functionality.</p>
                    <div class="mil-up">
                        <a href="/contact" class="mil-button mil-arrow-place">
                            <span>Get Quote</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- pricing section end -->
</BaseLayout>