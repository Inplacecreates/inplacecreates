---
import BaseLayout from '../layouts/BaseLayout.astro';
import siteData from '../data.json';

const { company, pages } = siteData;
const pageData = pages.contact;
---

<BaseLayout title={`${pageData.title} | ${company.name}`}>
    <!-- banner -->
    <div class="mil-inner-banner mil-p-0-120">
        <div class="mil-banner-content mil-center mil-up">
            <div class="container">
                <ul class="mil-breadcrumbs mil-center mil-mb-60">
                    {pageData.banner.breadcrumbs.map(crumb => (
                        <li><a href={crumb.url}>{crumb.name}</a></li>
                    ))}
                </ul>
                <h1 class="mil-mb-60">{pageData.banner.title}</h1>
                <a href={pageData.banner.ctaLink} class="mil-link mil-dark mil-arrow-place mil-down-arrow">
                    <span>{pageData.banner.ctaText}</span>
                </a>
            </div>
        </div>
    </div>
    <!-- banner end -->

    <!-- map -->
    <div class="mil-map-frame mil-up">
        <div class="mil-map">
            <iframe
                src={pageData.map.embedUrl}
                style="border:0;" allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
    </div>
    <!-- map end -->

    <!-- contact form -->
    <section id="contact">
        <div class="container mil-p-120-90">
            <h3 class="mil-center mil-up mil-mb-120">{pageData.form.heading.text} <span class="mil-thin">{pageData.form.heading.accent}</span></h3>
            <form class="row align-items-center">
                {pageData.form.fields.map(field => (
                    <div class={`${field.type === 'textarea' ? 'col-lg-12' : 'col-lg-6'} mil-up`}>
                        {field.type === 'textarea' ? (
                            <textarea placeholder={field.placeholder} required={field.required}></textarea>
                        ) : (
                            <input type={field.type} placeholder={field.placeholder} required={field.required}>
                        )}
                    </div>
                ))}
                <div class="col-lg-8">
                    <p class="mil-up mil-mb-30"><span class="mil-accent">*</span> {pageData.form.privacyNotice}</p>
                </div>
                <div class="col-lg-4">
                    <div class="mil-adaptive-right mil-up mil-mb-30">
                        <button type="submit" class="mil-button mil-arrow-place">
                            <span>{pageData.form.submitText}</span>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </section>
    <!-- contact form end -->
</BaseLayout>